@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
:root {
		--bg: #f7f8f5;
		--ink: #1f2a24;
	}

	html,
	body {
		height: 100%;
	}

	body {
		background: var(--bg);
		color: var(--ink);
		@apply antialiased;
	}
}

@layer components {
	.container {
		@apply mx-auto w-full max-w-[1120px] px-4 sm:px-6 lg:px-8;
	}

	.container-narrow {
		@apply mx-auto w-full max-w-[860px] px-4 sm:px-6 lg:px-8;
	}

	.btn {
		@apply inline-flex items-center justify-center gap-2 rounded-full border px-4 py-2 transition-colors;
	}

	.btn-primary {
		@apply border-sage bg-sage text-[#0f1511] shadow-[0_6px_18px_rgba(163,177,138,0.35)] hover:shadow-[0_8px_24px_rgba(163,177,138,0.45)] hover:bg-[#9ba57d];
}

	.btn-ghost {
		@apply border-[rgba(31,42,36,0.22)] bg-transparent hover:bg-[rgba(31,42,36,0.04)];
	}

	/* Animations pour les cartes de services */
	.service-card {
		position: relative;
		overflow: hidden;
	}

	.service-card::before {
		content: '';
		position: absolute;
		top: 0;
		left: -100%;
		width: 100%;
		height: 100%;
		background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
		transition: left 0.5s ease;
	}

	.service-card:hover::before {
		left: 100%;
	}

	/* Animation de l'icône au survol */
	.service-icon-wrapper {
		position: relative;
	}

	.service-icon-wrapper::after {
		content: '';
		position: absolute;
		top: 50%;
		left: 50%;
		width: 0;
		height: 0;
		background: rgba(181, 101, 51, 0.1);
		border-radius: 50%;
		transform: translate(-50%, -50%);
		transition: width 0.3s ease, height 0.3s ease;
	}

	.service-card:hover .service-icon-wrapper::after {
		width: 120%;
		height: 120%;
	}

	/* Animation du texte */
	.service-title {
		position: relative;
	}

	.service-card:hover .service-title {
		transform: translateX(4px);
	}

	.service-desc {
		transform: translateY(0);
		transition: transform 0.3s ease, opacity 0.3s ease;
	}

	.service-card:hover .service-desc {
		transform: translateY(-2px);
	}

	/* Animation des icônes individuelles */
	.service-icon svg {
		transition: all 0.3s ease;
	}

	.service-card:hover .service-icon svg {
		filter: drop-shadow(0 4px 8px rgba(181, 101, 51, 0.3));
	}

	/* Animation de pulse pour l'icône */
	@keyframes iconPulse {
		0%, 100% {
			transform: scale(1);
		}
		50% {
			transform: scale(1.15);
		}
	}

	.service-card:hover .service-icon {
		animation: iconPulse 1.5s ease-in-out infinite;
	}

	/* Animation de vague pour l'icône wave (première carte) */
	@keyframes waveAnimation {
		0%, 100% {
			transform: rotate(0deg);
		}
		25% {
			transform: rotate(-8deg);
		}
		75% {
			transform: rotate(8deg);
		}
	}

	.service-card:hover .service-icon-0 {
		animation: waveAnimation 1s ease-in-out infinite;
}

	/* Animation de check pour l'icône check (deuxième carte) */
	@keyframes checkAnimation {
		0% {
			transform: scale(1) rotate(0deg);
		}
		50% {
			transform: scale(1.2) rotate(5deg);
		}
		100% {
			transform: scale(1.1) rotate(0deg);
		}
	}

	.service-card:hover .service-icon-1 {
		animation: checkAnimation 0.6s ease-out;
	}

	/* Animation de rotation pour l'icône plus (troisième carte) */
	@keyframes rotatePlus {
		0% {
			transform: rotate(0deg);
		}
		100% {
			transform: rotate(90deg);
		}
	}

	.service-card:hover .service-icon-2 {
		animation: rotatePlus 0.4s ease-out forwards;
	}

	/* Effet de brillance qui suit la souris */
	.service-card::after {
		content: '';
		position: absolute;
		top: var(--mouse-y, 50px);
		left: var(--mouse-x, 50px);
		width: 250px;
		height: 250px;
		background: radial-gradient(circle, rgba(255, 255, 255, 0.6) 0%, rgba(163, 177, 138, 0.2) 20%, transparent 50%);
		opacity: 0;
		pointer-events: none;
		border-radius: 50%;
		transform: translate(-50%, -50%);
		z-index: 0;
		transition: opacity 0.3s ease;
		will-change: top, left, opacity;
	}

	.service-card:hover::after {
		opacity: 1;
	}

	/* Animation fluide pour le suivi de la souris (uniquement pour les performances) */
	@media (prefers-reduced-motion: no-preference) {
		.service-card::after {
			transition: opacity 0.3s ease, top 0.05s linear, left 0.05s linear;
  }
}

	/* Assurer que le contenu est au-dessus de l'effet de brillance */
	.service-card > * {
		position: relative;
		z-index: 1;
	}

	/* Animation de lift et vibration subtile au survol */
	@keyframes cardLift {
		0%, 100% {
			transform: translateY(-8px) scale(1.02) translateX(0);
		}
		25% {
			transform: translateY(-9px) scale(1.02) translateX(-1px);
		}
		50% {
			transform: translateY(-7px) scale(1.02) translateX(1px);
		}
		75% {
			transform: translateY(-9px) scale(1.02) translateX(1px);
		}
	}

	.service-card:hover {
		animation: cardLift 2s ease-in-out infinite;
		box-shadow: 0 20px 40px rgba(31, 42, 36, 0.15);
		border-color: rgba(163, 177, 138, 0.3);
		background: linear-gradient(135deg, #DAD7CD 0%, #f0ede5 100%);
	}

	/* Désactiver l'animation quand on clique */
	.service-card:active {
		animation: none !important;
		transform: translateY(-6px) scale(1.01) !important;
		transition: transform 0.1s ease;
	}
}
